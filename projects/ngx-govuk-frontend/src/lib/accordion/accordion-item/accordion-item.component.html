<div class="govuk-accordion__section" [class.govuk-accordion__section--expanded]="isExpanded$ | async">
  <div
    class="govuk-accordion__section-header"
    [class.govuk-accordion__section-header--focused]="isFocused"
    (click)="isExpanded.next(!isExpanded.value)"
    (keydown)="isExpanded.next(!isExpanded.value)"
  >
    <h2 class="govuk-accordion__section-heading">
      <button
        type="button"
        class="govuk-accordion__section-button"
        [id]="accordion.id + '-heading-' + itemIndex"
        [attr.aria-controls]="contentId"
        [attr.aria-describedby]="accordionItemSummaryDirective ? accordion.id + '-summary-' + itemIndex : null"
        [attr.aria-expanded]="isExpanded$ | async"
        (focusin)="isFocused = true"
        (blur)="isFocused = false"
      >
        {{ header }}
      </button>
      <span class="govuk-accordion__icon" aria-hidden="true"></span>
    </h2>
    <div
      *ngIf="accordionItemSummaryDirective"
      [id]="accordion.id + '-summary-' + itemIndex"
      class="govuk-accordion__section-summary govuk-body"
    >
      <ng-content select="[govukAccordionItemSummary]"></ng-content>
    </div>
  </div>
  <div
    [id]="contentId"
    [attr.aria-labelledby]="accordion.id + '-heading-' + itemIndex"
    class="govuk-accordion__section-content"
  >
    <ng-content></ng-content>
  </div>
</div>
